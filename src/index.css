@tailwind base;
@tailwind components;
@tailwind utilities;

/* -----------------------------
   Configuración de fuentes
--------------------------------*/
@layer base {
  html {
    font-family: 'Raleway', ui-sans-serif, system-ui, sans-serif;
  }
  
  body {
    font-family: 'Raleway', ui-sans-serif, system-ui, sans-serif;
    font-weight: 400;
    line-height: 1.6;
  }
  
  /* Textos de cuerpo usan Raleway con peso normal */
  p, span, div, li, td, th {
    font-family: 'Raleway', ui-sans-serif, system-ui, sans-serif;
  }
  
  /* Títulos usan Sora para un look más moderno y elegante */
  h1, h2, h3, h4, h5, h6 {
    font-family: 'Sora', ui-sans-serif, system-ui, sans-serif;
    font-weight: 600;
    line-height: 1.2;
    letter-spacing: -0.02em;
  }
}

/* Clase utilitaria para aplicar Sora a otros elementos */
@layer utilities {
  .font-heading {
    font-family: 'Sora', ui-sans-serif, system-ui, sans-serif;
    font-weight: 600;
    letter-spacing: -0.02em;
  }
}

/* -----------------------------
   Paleta y utilidades base
--------------------------------*/
:root {
  --brand-light: #FFFCF2;
  --brand-sand:  #CCC5B9;
  --brand-graphite: #403D39;
  --brand-coal:  #252422;
  --brand-accent: #EB5E28;
}

/* Vidrio / tarjetas */
@layer components {
  .glass {
    @apply border rounded-3xl backdrop-blur-md;
    border-color: rgb(255 255 255 / 0.2);
    background: linear-gradient(180deg, rgba(255,255,255,.15), rgba(255,255,255,.08));
  }

  /* Iconos de CaseCards - condiciones por modo */
  .case-card-icon {
    filter: brightness(0) saturate(0) invert(15%) sepia(8%) saturate(1018%) hue-rotate(314deg) brightness(95%) contrast(86%);
  }
  
.dark .case-card-icon {
  filter: brightness(0) saturate(0) invert(100%);
}

.menu-icon {
  filter: brightness(0) saturate(0) invert(15%) sepia(8%) saturate(1018%) hue-rotate(314deg) brightness(95%) contrast(86%);
}

.dark .menu-icon {
  filter: brightness(0) saturate(0) invert(100%);
}

  .glass-light {
    @apply border rounded-3xl backdrop-blur-md;
    border-color: rgba(64, 61, 57, 0.25);
    background: linear-gradient(180deg, rgba(255, 252, 242, 0.4), rgba(255, 252, 242, 0.2));
    box-shadow: 0 4px 20px rgba(64, 61, 57, 0.08);
  }

  .glass-dark {
    @apply border rounded-3xl backdrop-blur-md;
    border-color: rgba(255, 255, 255, 0.15);
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.04));
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
  }

  /* Estilos consistentes para todos los componentes */
  .glass-light.dark\:glass-dark {
    border-color: rgba(64, 61, 57, 0.25);
  }
  
  .dark .glass-light.dark\:glass-dark {
    border-color: rgba(255, 255, 255, 0.15);
  }

  /* Bordes estándar para botones y elementos interactivos */
  .border-standard {
    border-color: rgba(64, 61, 57, 0.25);
  }
  
  .dark .border-standard {
    border-color: rgba(255, 255, 255, 0.15);
  }

  .btn-accent {
    @apply inline-flex items-center justify-center px-5 py-2 rounded-xl font-semibold text-white;
    background: var(--brand-accent);
    box-shadow: 0 12px 40px rgba(235,94,40,.28);
  }
  .btn-accent:hover { filter: brightness(1.05); }
}

/* -----------------------------
   Aurora global (fondo de página)
   — usa tu paleta
--------------------------------*/
.aurora-page {
  /* Light mode */
  background:
    radial-gradient(55% 45% at 50% 0%, rgba(235,94,40,0.10), transparent 60%),
    radial-gradient(40% 35% at 15% 30%, rgba(204,197,185,0.25), transparent 60%),
    radial-gradient(45% 35% at 85% 40%, rgba(64,61,57,0.20), transparent 60%),
    radial-gradient(100% 120% at 50% 20%, rgba(255,252,242,0.18), transparent 70%);
}

.aurora-page-dark {
  /* Dark mode */
  background:
    radial-gradient(60% 45% at 50% 0%, rgba(235,94,40,0.17), transparent 60%),
    radial-gradient(40% 35% at 80% 15%, rgba(235,94,40,0.10), transparent 60%),
    radial-gradient(50% 40% at 20% 30%, rgba(64,61,57,0.55), transparent 60%),
    radial-gradient(110% 140% at 50% 15%, rgba(37,36,34,0.40), transparent 70%);
}

/* -----------------------------
   Capa de grano sutil (embebida)
--------------------------------*/
.grain-overlay {
  pointer-events: none;
  position: absolute;
  inset: 0;
  z-index: -9;
  opacity: .08;
  mix-blend-mode: overlay;
  background-size: 320px 320px;
  background-repeat: repeat;
  /* Pequeño PNG de ruido embebido base64 (64x64) */
  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABBAQMAAACmFJHkAAAABlBMVEUAAAD///+l2Z/dAAAAEklEQVQY02NgGAWjYBSMglEAAAJQAABs5aO0AAAAAElFTkSuQmCC");
}

/* -----------------------------
   Marquee (slider de logos)
--------------------------------*/
@keyframes marquee { from {transform: translateX(0)} to {transform: translateX(-50%)} }
.marquee-track { width: max-content; animation: marquee 24s linear infinite; }
.marquee-track:hover { animation-play-state: paused; }

/* Accesibilidad: reduce motion */
@media (prefers-reduced-motion: reduce){
  * { animation: none !important; transition: none !important; }
}

/* ==== Utilidades para ocultar scrollbars (sin romper teclado/lectores) ==== */
.no-scrollbar {
  scrollbar-width: none;              /* Firefox */
  -ms-overflow-style: none;           /* IE/Edge */
}
.no-scrollbar::-webkit-scrollbar {     /* Chrome/Safari */
  display: none;
}

/* Evitar que el body reciba una barra horizontal por arrastres internos */
html, body {
  overflow-x: hidden;
}

/* Estado de arrastre: evita seleccionar texto durante el drag */
.dragging {
  cursor: grabbing !important;
  user-select: none;
}

/* Fades laterales del carrusel (hereda colores del tema) */
.fade-l {
  mask-image: linear-gradient(90deg, black, transparent);
  -webkit-mask-image: linear-gradient(90deg, black, transparent);
  background: linear-gradient(to right, rgba(0,0,0,.25), transparent);
  opacity: .35;
}
.dark .fade-l {
  background: linear-gradient(to right, rgba(255,255,255,.18), transparent);
}
.fade-r {
  mask-image: linear-gradient(270deg, black, transparent);
  -webkit-mask-image: linear-gradient(270deg, black, transparent);
  background: linear-gradient(to left, rgba(0,0,0,.25), transparent);
  opacity: .35;
}
.dark .fade-r {
  background: linear-gradient(to left, rgba(255,255,255,.18), transparent);
}

/* ==== Efecto de cursor para typing ==== */
@keyframes blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

.typing-cursor {
  animation: blink 1s infinite;
}

/* ==== Marquee infinito para Toolbox ==== */
.marquee {
  position: relative;
  width: 100%;
  overflow: hidden;
}
.marquee-inner {
  display: inline-flex;
  align-items: center;
  gap: 0;               /* espacio lo ponen las cards con mx-4 */
  animation: marquee-scroll 28s linear infinite;
  will-change: transform;
}
.marquee:hover .marquee-inner {        /* pausa al hacer hover */
  animation-play-state: paused;
}
@keyframes marquee-scroll {
  from { transform: translateX(0); }
  to   { transform: translateX(-50%); } /* la inner tiene 2x elementos */
}

/* full-bleed para secciones que deben tocar los bordes con padding interno */
.full-bleed {
  margin-left: calc(50% - 50vw);
  margin-right: calc(50% - 50vw);
}



/* ===== Helpers nuevas: NO rompen estilos existentes ===== */

/* Oculta cualquier scrollbar horizontal global (sin tocar vertical) */
html, body {
  overflow-x: hidden;
}

/* Utilidad para contenedores que no deben mostrar barra horizontal */
.no-x-scroll {
  overflow-x: hidden;
}

/* Bonito efecto de “glass” que ya usas en UI */
.glass {
  background: color-mix(in oklab, rgba(255,255,255,.08) 50%, transparent);
  backdrop-filter: blur(12px) saturate(120%);
  -webkit-backdrop-filter: blur(12px) saturate(120%);
  border: 1px solid rgba(255,255,255,.08);
}

/* Evita seleccionar texto al arrastrar */
select-none, .no-select {
  user-select: none;
}


/* -----------------------------
   Aurora global (fondo de página)
   — usa tu paleta, en TODA la web
--------------------------------*/
.aurora-page {
  /* color base - beige como fondo principal */
  background-color: #CCC5B9; /* brand-sand como base */
  /* múltiples radiales distribuidas */
  background-image:
    radial-gradient(60% 50% at 50% -10%, rgba(235,94,40,0.15), rgba(235,94,40,0) 60%),
    radial-gradient(40% 35% at 10% 20%, rgba(255,252,242,0.25), rgba(255,252,242,0) 65%),
    radial-gradient(45% 35% at 90% 30%, rgba(64,61,57,0.12), rgba(64,61,57,0) 65%),
    radial-gradient(70% 60% at 20% 70%, rgba(235,94,40,0.08), rgba(235,94,40,0) 70%),
    radial-gradient(70% 60% at 80% 85%, rgba(204,197,185,0.20), rgba(204,197,185,0) 70%);
  background-attachment: fixed;
  background-repeat: no-repeat;
  background-size: cover;
}

.aurora-page-dark {
  background-color: #252422; /* brand-coal como base */
  background-image:
    radial-gradient(60% 50% at 50% -10%, rgba(235,94,40,0.20), rgba(235,94,40,0) 60%),
    radial-gradient(45% 35% at 90% 20%, rgba(235,94,40,0.12), rgba(235,94,40,0) 60%),
    radial-gradient(60% 50% at 10% 75%, rgba(64,61,57,0.45), rgba(64,61,57,0) 70%),
    radial-gradient(70% 60% at 80% 90%, rgba(37,36,34,0.35), rgba(37,36,34,0) 70%),
    radial-gradient(30% 25% at 20% 30%, rgba(255,252,242,0.08), rgba(255,252,242,0) 60%);
  background-attachment: fixed;
  background-repeat: no-repeat;
  background-size: cover;
}


/* ========== TESTIMONIALS STACK ========== */
.tstack {
  perspective: 1200px;
  transform-style: preserve-3d;
  position: relative;
}

.tcard {
  position: absolute;
  left: 50%;
  top: 50%;
  width: min(900px, 92%);
  /* Fondo sólido para dark mode */
  background: #0f0f0f; /* sólido, sin blur, contrastado */
  border-radius: 20px;
  border: 1px solid rgba(255, 255, 255, .08);
  box-shadow:
    0 20px 60px rgba(0,0,0,.55),
    0 0 1px rgba(255,255,255,.05);
  transform: translate(-50%, -50%) scale(.94) rotateX(0deg) rotateZ(-6deg);
  transition:
    transform .7s cubic-bezier(.22,.61,.36,1),
    opacity .5s linear,
    filter .5s ease,
    box-shadow .5s ease;
  opacity: .65;
  z-index: 1;
}

/* Activa (en el centro) */
.tcard-active {
  transform: translate(-50%, -50%) scale(1) rotateX(0deg) rotateZ(0deg);
  opacity: 1;
  z-index: 5;
  box-shadow:
    0 30px 80px rgba(0,0,0,.60),
    0 0 1px rgba(255,255,255,.06);
}

/* A la derecha (esperando entrar) */
.tcard-right {
  transform: translate(calc(-50% + 120px), -50%) scale(.98) rotateZ(6deg);
  opacity: .75;
  z-index: 2;
}

/* Detrás, entra POR ENCIMA */
.tcard-behind {
  transform: translate(calc(-50% - 140px), -53%) scale(.92) rotateZ(-10deg);
  opacity: .55;
  z-index: 6; /* entra por encima */
  filter: blur(0.2px);
}


/* ===== Hamburguesa correcta ===== */
.hambox { position: relative; width: 22px; height: 16px; }
.hamline {
  position: absolute; left: 0; right: 0; height: 2px; background: #FFFCF2;
  border-radius: 999px; transition: transform .28s ease, opacity .28s ease;
}
.hamline.top { top: 0; }
.hamline.mid { top: 7px; }
.hamline.bot { bottom: 0; }

/* ===== X (botón cerrar) ===== */
.closeX {
  position: relative; display: block; width: 18px; height: 18px;
}
.closeX::before, .closeX::after {
  content: ""; position: absolute; inset: 0; margin: auto; width: 18px; height: 2px;
  background: #FFFCF2; border-radius: 999px;
}
.closeX::before { transform: rotate(45deg); }
.closeX::after  { transform: rotate(-45deg); }

/* ===== Splash mask container (para el círculo) ===== */
.splash-mask { isolation: isolate; }

/* ===== Botones redondeados del overlay ===== */
.pill-btn{
  @apply px-4 py-2 rounded-xl ring-1 ring-white/10 bg-white/5 text-brand-light/90 hover:text-brand-light transition;
}
.pill-cta{
  @apply px-4 py-2 rounded-xl font-bold text-white;
  background: #EB5E28;
  box-shadow: 0 14px 36px rgba(235,94,40,.35);
}

/* (Armoniza el scroll suave global sin afectar behavior) */
html { scroll-behavior: auto; } /* dejamos nuestra función con easing */

/* ====== Pills y CTA ====== */
.pill-btn {
  @apply inline-flex items-center justify-center px-3.5 py-2 rounded-xl text-sm font-medium
         text-brand-light/90 bg-white/5 border border-white/10 hover:bg-white/10 transition;
}
.pill-cta {
  @apply inline-flex items-center justify-center px-4 py-2.5 rounded-xl font-extrabold
         text-brand-light bg-[#EB5E28] shadow-[0_12px_40px_rgba(235,94,40,.28)]
         hover:brightness-105 transition;
}

/* ====== Líneas de hamburguesa (limpias) ====== */
.hamb-line {
  @apply absolute left-[9px] right-[9px] h-[2px] bg-brand-light rounded-full;
}

/* (Opcional) Suaviza scroll general si no usas nuestra función custom */
html {
  scroll-behavior: auto; /* mantenemos manual para control total */
}

/* Ya debes tener .glass y tu paleta configuradas; si no: */
:root {
  --brand-light: #FFFCF2;
  --brand-sand:  #CCC5B9;
  --brand-graphite: #403D39;
  --brand-coal:  #252422;
  --brand-accent: #EB5E28;
}
.text-brand-light { color: var(--brand-light); }
.bg-brand-accent { background: var(--brand-accent); }

/* Asegura que no haya scroll horizontal por animaciones */
html, body { overflow-x: hidden; }


/* en index.css (opcional) */
svg g:hover circle:last-child { transform: scale(1.06); transform-origin: center; transition: transform .15s ease; }

/* -----------------------------
   Utilidades para testimonials
--------------------------------*/
.line-clamp-4 {
  display: -webkit-box;
  -webkit-line-clamp: 4;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
